# KI_PR2_Defense_phg

게임 장르 : 클리커 형 디펜스
세부 장르 : 좀비, 심령 호러

배경 : 디스토피아, 악마 혹은 좀비 사태에서 유일한 안식처를 만들고 생존자들을 구하며, 자원 확보 및 방어선 구축

게임 시스템 :
- 특정한 조명 밝힐 시 렌더러 시스템을 이용해 악마들을 판별할 수 있음. 해당 적을 클릭하여(무기 선택 가능 희망하고 있음) 생존자와 악마들을 판별하여 base를 지키고 적을 제거함.

- 생존자를 죽여도 즉각적인 패널티는 없음. 다만 생존자는 base에 진입시 무기나 방어 아니면 특정한 조명을 수동으로 키는게 아닌 자동으로 밝혀줄 기계를 만들 자원을 체취, 혹은 생산함.

- 생존자를 무조건 많이 받아드려도 좋지 않음. 생존자를 쫓아내거나 제거하는 것도 가능(이건 도전과제), 방어수단을 만들 자원을 체취 혹은 생산 하지만 생존에 필요한 자원을 소모함.

- 생존자 중 전투에 능한 자들은 밖을 나가 일정확률로 생존자원을 회수함. 물론 적들을 죽이거나 base에서 일정한 행위(농사등)으로 생존자원 획득 가능.

- 스테이지마다 나타나는 적들이 기하급수적으로 늘어나 자동화 된 조명 디텍터와 자동화된 방어기계 반드시 필요.

- 바이오 테크트리(저렴하지만 생존자가 조종함으로 반드시 필요, 적은 데미지, 스트레스 같은 부정적 상태이상{도전과제} 가능성), 메카닉 테크트리(비싸지만 자동, 수리만 해주면 됨. 강한 화력과 단단한 성능. 초반이 고비) 등을 생각.


✅ 1단계 – 몬스터 상태 전환 구조부터 구축
이유: 조명 연출, 애니메이션, AI 전부 이걸 기준으로 분기됨

구현:

Animator 루프 + 랜덤 Offset 설정

렌더러/조명 판별 전환용 시스템

(Renderer + 조명 조작 테스트 케이스 씬 필수)

✅ 2단계 – AI 기본 구조 (소리 반응 X)
FSM 기반으로 "Idle → Move → Attack"만 해도 충분

몬스터들이 자연스럽게 움직이기만 해도 시각 피드백이 살아남

걷기 방향, 대상 설정만 확인

✅ 3단계 – 조명 판별 로직 연결
조명 트리거 영역 + Animator 상태 연동

상태 전환은 Play() or Layer Weight 전환

✅ 4단계 – 소리 이벤트 기반 반응 구조 (전략 AI 시작)
총성 발생 시 위치 저장

몬스터가 그것을 추적 목표로 전환

NavMesh + 병목 자연 발생 확인

✅ 5단계 – 시각 연출 / Light Probe / 최적화
Animator 속도 최적화, 멀리 있을 땐 Renderer 끄기

LOD Group 적용

Material / Shader 전환 연출

🧠 핵심 정리
단계	이름	    핵심 이유
1	상태 전환 +     애니메이션 유지	전 시스템이 이걸 기준으로 작동
2	기본 FSM AI	    화면이 ‘살아있어’ 보이는 최소 구조
3	조명 반응	    핵심 연출 기믹
4	소리 반응 AI	전략 요소 등장
5	시각 최적화	    후반 디테일 / 성능 개선